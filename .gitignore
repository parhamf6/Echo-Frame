# ============================================================
# Echo Frame - Complete .gitignore
# ============================================================

# ============================================================
# ENVIRONMENT & SECRETS
# ============================================================
.env
.env.*
!.env.example
*.env
.env.local
.env.development.local
.env.test.local
.env.production.local

# Secrets and credentials
secrets/
*.pem
*.key
*.cert
*.crt
*.p12
*.pfx
id_rsa*
*.pub

# API keys and tokens
.api-keys
tokens/
credentials/

# LiveKit secrets
livekit/.env.livekit
livekit/secrets/

# ============================================================
# FRONTEND (Next.js 14+ App Router)
# ============================================================

# Next.js build output
frontend/echo-frame-front/.next/
frontend/echo-frame-front/out/
frontend/echo-frame-front/build/
frontend/echo-frame-front/dist/

# Next.js cache
frontend/echo-frame-front/.cache/
frontend/echo-frame-front/.turbo/

# Next.js environment
frontend/echo-frame-front/.env.local
frontend/echo-frame-front/.env.development.local
frontend/echo-frame-front/.env.test.local
frontend/echo-frame-front/.env.production.local

# Testing
frontend/echo-frame-front/coverage/
frontend/echo-frame-front/.nyc_output/
frontend/echo-frame-front/test-results/
frontend/echo-frame-front/playwright-report/
frontend/echo-frame-front/playwright/.cache/

# TypeScript
frontend/echo-frame-front/.tsbuildinfo
frontend/echo-frame-front/next-env.d.ts

# Vercel/Netlify (if deploying)
frontend/echo-frame-front/.vercel
frontend/echo-frame-front/.netlify

# Node modules
frontend/echo-frame-front/node_modules/

# ============================================================
# BACKEND (FastAPI + Python)
# ============================================================

# Python bytecode
backend/echoframe_api/__pycache__/
backend/echoframe_api/**/__pycache__/
backend/echoframe_api/*.py[cod]
backend/echoframe_api/*$py.class
backend/echoframe_api/**/*.py[cod]
backend/echoframe_api/**/*$py.class

# Virtual environments
backend/echoframe_api/venv/
backend/echoframe_api/env/
backend/echoframe_api/ENV/
backend/echoframe_api/.venv/
backend/echoframe_api/virtualenv/

# Distribution / packaging
backend/echoframe_api/.Python
backend/echoframe_api/build/
backend/echoframe_api/develop-eggs/
backend/echoframe_api/dist/
backend/echoframe_api/downloads/
backend/echoframe_api/eggs/
backend/echoframe_api/.eggs/
backend/echoframe_api/lib/
backend/echoframe_api/lib64/
backend/echoframe_api/parts/
backend/echoframe_api/sdist/
backend/echoframe_api/var/
backend/echoframe_api/wheels/
backend/echoframe_api/share/python-wheels/
backend/echoframe_api/*.egg-info/
backend/echoframe_api/.installed.cfg
backend/echoframe_api/*.egg
backend/echoframe_api/MANIFEST

# Testing & coverage
backend/echoframe_api/htmlcov/
backend/echoframe_api/.tox/
backend/echoframe_api/.nox/
backend/echoframe_api/.coverage
backend/echoframe_api/.coverage.*
backend/echoframe_api/coverage.xml
backend/echoframe_api/*.cover
backend/echoframe_api/*.log
backend/echoframe_api/.pytest_cache/
backend/echoframe_api/.hypothesis/
backend/echoframe_api/pytestdebug.log

# Celery (if added later)
backend/echoframe_api/celerybeat-schedule
backend/echoframe_api/celerybeat.pid

# mypy type checking
backend/echoframe_api/.mypy_cache/
backend/echoframe_api/.dmypy.json
backend/echoframe_api/dmypy.json

# Pyre type checker
backend/echoframe_api/.pyre/

# pytype static type analyzer
backend/echoframe_api/.pytype/

# Jupyter Notebook
backend/echoframe_api/.ipynb_checkpoints

# IPython
backend/echoframe_api/profile_default/
backend/echoframe_api/ipython_config.py

# Alembic bytecode
backend/echoframe_api/alembic/versions/__pycache__/

# ============================================================
# VIDEO STORAGE (Critical!)
# ============================================================

# Local file storage - uploaded videos
backend/echoframe_api/storage/
backend/echoframe_api/storage/videos/
backend/echoframe_api/storage/subtitles/

# HLS video files (keep structure, ignore content)
*.m3u8
*.ts
*.m4s

# Raw video files (should be processed locally, not committed)
*.mp4
*.avi
*.mkv
*.mov
*.wmv
*.flv
*.webm
*.m4v
*.mpg
*.mpeg

# Audio files
*.mp3
*.wav
*.flac
*.aac
*.ogg
*.wma
*.m4a

# Video thumbnails (generated)
backend/echoframe_api/storage/**/thumbnail.jpg
backend/echoframe_api/storage/**/thumbnail.png

# Keep storage directory structure
!backend/echoframe_api/storage/.gitkeep
!backend/echoframe_api/storage/videos/.gitkeep
!backend/echoframe_api/storage/subtitles/.gitkeep

# ============================================================
# CLI TOOL (FFmpeg Processor)
# ============================================================

# Python bytecode
cli-tool/__pycache__/
cli-tool/**/__pycache__/
cli-tool/*.py[cod]
cli-tool/*$py.class

# Virtual environment
cli-tool/venv/
cli-tool/.venv/
cli-tool/env/

# Distribution
cli-tool/dist/
cli-tool/build/
cli-tool/*.egg-info/

# CLI output directories (processed videos)
cli-tool/output/
cli-tool/temp/
cli-tool/processed/
cli-tool/test-output/

# User config (contains server URL and tokens)
cli-tool/config.yaml
cli-tool/.echo-frame/

# Test videos for CLI development
cli-tool/test-videos/
cli-tool/sample-*.mp4

# ============================================================
# DATABASE
# ============================================================

# PostgreSQL data (Docker volume)
pgdata/
postgres-data/
postgresql-data/

# Database backups
backups/
db-backups/
*.sql
*.dump
*.backup
*.sql.gz
*.dump.gz

# SQLite (if used for testing)
*.db
*.sqlite
*.sqlite3

# ============================================================
# REDIS
# ============================================================

# Redis data (Docker volume)
redis-data/
dump.rdb
appendonly.aof

# ============================================================
# DOCKER & CONTAINERS
# ============================================================

# Docker volumes
docker-volumes/
volumes/
data/

# Docker Compose override (for local dev)
docker-compose.override.yml
docker-compose.local.yml

# Container logs
containers/
docker-logs/

# ============================================================
# NGINX
# ============================================================

# Nginx logs
nginx/logs/
nginx/*.log
nginx/access.log
nginx/error.log

# SSL certificates (production only)
nginx/ssl/*.pem
nginx/ssl/*.key
nginx/ssl/*.crt
nginx/ssl/cert.pem
nginx/ssl/privkey.pem

# Keep SSL directory structure and examples
!nginx/ssl/.gitkeep
!nginx/ssl/README.md
!nginx/ssl/example.crt

# Nginx cache
nginx/cache/
nginx/temp/

# ============================================================
# LIVEKIT (Voice Chat Server)
# ============================================================

# LiveKit data
livekit/data/
livekit/logs/

# LiveKit config with secrets
livekit/config.local.yaml

# Keep example config
!livekit/config.yaml

# ============================================================
# NODE & NPM
# ============================================================

# Dependencies
node_modules/
frontend/node_modules/
jspm_packages/

# npm logs
npm-debug.log*
yarn-debug.log*
yarn-error.log*
lerna-debug.log*
.pnpm-debug.log*

# Yarn
.yarn/*
!.yarn/patches
!.yarn/plugins
!.yarn/releases
!.yarn/sdks
!.yarn/versions
.yarn/cache
.yarn/unplugged
.yarn/build-state.yml
.yarn/install-state.gz

# pnpm
.pnpm-store/

# Optional npm cache
.npm

# Optional ESLint cache
.eslintcache

# Optional Stylelint cache
.stylelintcache

# Turbo
.turbo/

# ============================================================
# IDE & EDITORS
# ============================================================

# VSCode
.vscode/
!.vscode/settings.json
!.vscode/tasks.json
!.vscode/launch.json
!.vscode/extensions.json
*.code-workspace
.history/

# JetBrains (PyCharm, WebStorm, IntelliJ IDEA)
.idea/
*.iml
*.iws
*.ipr
.idea_modules/
out/

# Sublime Text
*.sublime-project
*.sublime-workspace

# Vim
[._]*.s[a-v][a-z]
[._]*.sw[a-p]
[._]s[a-rt-v][a-z]
[._]ss[a-gi-z]
[._]sw[a-p]
*.swp
*.swo
*~
.netrwhist

# Emacs
*~
\#*\#
/.emacs.desktop
/.emacs.desktop.lock
*.elc
auto-save-list
tramp

# ============================================================
# OPERATING SYSTEM
# ============================================================

# macOS
.DS_Store
.DS_Store?
.AppleDouble
.LSOverride
._*
.Spotlight-V100
.Trashes
.AppleDB
.AppleDesktop
Network Trash Folder
Temporary Items
.apdisk

# Windows
Thumbs.db
Thumbs.db:encryptable
ehthumbs.db
ehthumbs_vista.db
Desktop.ini
$RECYCLE.BIN/
*.lnk

# Linux
.directory
.Trash-*

# ============================================================
# LOGS & TEMPORARY FILES
# ============================================================

# Application logs
logs/
*.log
log/
application.log
error.log
debug.log

# FastAPI/Uvicorn logs
backend/echoframe_api/logs/
backend/echoframe_api/*.log

# Socket.io logs
socket-debug.log
socketio.log

# Runtime data
pids/
*.pid
*.seed
*.pid.lock

# Temporary files
tmp/
temp/
*.tmp
*.temp

# ============================================================
# TESTING
# ============================================================

# Test coverage
coverage/
.nyc_output/
htmlcov/
*.cover
*.lcov

# Test databases
test.db
test.sqlite
test.sql

# Test uploads
test-uploads/
test-videos/
test-storage/

# Test results
test-results/
pytest-results/

# ============================================================
# CI/CD
# ============================================================

# GitHub Actions secrets
.github/workflows/secrets.yml

# CircleCI local
.circleci/config.local.yml

# GitLab CI local
.gitlab-ci.local.yml

# ============================================================
# DOCUMENTATION
# ============================================================

# Generated docs
docs/_build/
docs/.doctrees/
site/
_site/

# MkDocs
mkdocs/site/

# Sphinx
docs/_build/

# Keep documentation assets
!docs/images/
!docs/diagrams/
!docs/**/*.png
!docs/**/*.jpg
!docs/**/*.svg

# ============================================================
# MONITORING & ANALYTICS
# ============================================================

# Sentry
.sentryclirc

# NewRelic
newrelic.ini

# Analytics data (raw logs)
analytics-data/
analytics-logs/

# ============================================================
# ECHO FRAME SPECIFIC
# ============================================================

# Room data (development only)
room-data/
dev-rooms/

# Development uploads
dev-uploads/
dev-storage/
dev-videos/

# Sample/test media files
sample-videos/
test-*.mp4
test-*.m3u8
demo-video.*

# Local configuration overrides
local.config.js
local.config.json
config.local.yaml

# Performance profiling
*.trace
*.cpuprofile
*.heapsnapshot
*.prof

# User session data (development)
sessions/
dev-sessions/

# Fingerprint testing data
fingerprint-test-data/

# Rate limit testing
rate-limit-test/

# WebRTC TURN server logs (if self-hosted)
turn-server.log
coturn.log

# ============================================================
# PYTHON PACKAGE MANAGERS
# ============================================================

# Pipenv
Pipfile.lock

# Poetry
poetry.lock

# PDM
__pypackages__/
.pdm.toml

# ============================================================
# MISCELLANEOUS
# ============================================================

# Backups
*.bak
*.backup
*.old
*.orig

# Archives
*.zip
*.tar
*.tar.gz
*.tgz
*.rar
*.7z
*.gz

# Lock files - KEEP package-lock.json and requirements.txt
!package-lock.json
!frontend/echo-frame-front/package-lock.json
!requirements.txt
!backend/echoframe_api/requirements.txt
!backend/echoframe_api/requirements-dev.txt
!cli-tool/requirements.txt

# Minified files (generated)
*.min.js
*.min.css

# Source maps
*.map

# FFmpeg temporary files
ffmpeg_*
ffmpeg-temp/
*.ffmpeg

# Compiled binaries
*.com
*.class
*.dll
*.exe
*.o
*.so

# Package managers
bower_components/

# Sass cache
.sass-cache/

# Localization compiled files
*.mo
*.pot

# ============================================================
# KEEP THESE FILES (Important!)
# ============================================================

# Keep example/template files
!.env.example
!frontend/echo-frame-front/.env.local.example
!backend/echoframe_api/.env.example
!docker-compose.example.yml
!config.example.json
!config.example.yaml

# Keep documentation assets
!docs/**/*.png
!docs/**/*.jpg
!docs/**/*.svg
!docs/**/*.gif
!README_assets/**
!.github/assets/**

# Keep public frontend assets
!frontend/echo-frame-front/public/**/*.jpg
!frontend/echo-frame-front/public/**/*.jpeg
!frontend/echo-frame-front/public/**/*.png
!frontend/echo-frame-front/public/**/*.gif
!frontend/echo-frame-front/public/**/*.svg
!frontend/echo-frame-front/public/**/*.ico
!frontend/echo-frame-front/public/**/*.webp

# Keep gitkeep for empty directories
!**/.gitkeep

# Keep CI/CD workflow files
!.github/workflows/*.yml
!.github/workflows/*.yaml
!.gitlab-ci.yml
!.circleci/config.yml

# Keep docker-compose and Dockerfiles
!docker-compose.yml
!**/Dockerfile
!**/.dockerignore

# Keep Nginx config
!nginx/nginx.conf
!nginx/Dockerfile

# Keep LiveKit config template
!livekit/config.yaml

# Keep Alembic config
!backend/echoframe_api/alembic.ini
!backend/echoframe_api/alembic/env.py
!backend/echoframe_api/alembic/script.py.mako

# ============================================================
# END OF .gitignore
# ============================================================